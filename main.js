(()=>{"use strict";function e(e){e.classList.remove("popup_is-opened"),e.closePopupCallback&&e.closePopupCallback(),e.keydownHandler&&(document.removeEventListener("keydown",e.keydownHandler),e.keydownHandler=null)}function t(t){t.openPopupCallback&&t.openPopupCallback(),t.classList.add("popup_is-opened"),t.keydownHandler=function(n){return function(t,n){"Escape"===t.key&&e(n)}(n,t)},document.addEventListener("keydown",t.keydownHandler)}function n(e,n){n.addEventListener("click",(function(n){t(e)}))}function o(e,t){e.remove()}function r(e,t){e.querySelector(".card__like-button").classList.toggle("card__like-button_is-active")}var c=document.querySelector(".profile__edit-button"),a=document.querySelector(".popup_type_edit"),l=document.querySelector(".profile__add-button"),u=document.querySelector(".popup_type_new-card"),p=document.querySelector(".popup_type_image"),d=document.querySelectorAll(".popup");n(u,l),n(a,c),d.forEach((function(t){t.classList.add("popup_is-animated"),t.querySelector(".popup__close").addEventListener("click",(function(n){e(t)})),t.addEventListener("click",(function(n){n.target===t&&e(t)}))}));var i=document.querySelector(".places__list"),s=document.querySelector("#card-template").content.querySelector(".card"),m=p.querySelector(".popup__caption"),y=p.querySelector(".popup__image");function f(e){return function(e,n,o,r){var c=e.cloneNode(!0),a=c.querySelector(".card__image"),l=c.querySelector(".card__title"),u=c.querySelector(".card__delete-button"),d=c.querySelector(".card__like-button");return a.src=n.link,a.alt=n.alt,l.textContent=n.name,u.addEventListener("click",(function(){return o(c,n)})),d.addEventListener("click",(function(){return r(c,n)})),a.addEventListener("click",(function(){return function(e,n){m.textContent=n.name,y.src=n.link,y.alt=n.alt,t(p)}(0,n)})),c}(s,e,o,r)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Снежные горы Архыза"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Озеро в снежном лесу Челябинской области"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Окна многоэтажек в Иваново"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Подножие вулкана на Камчатке"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Железная дорога, проходящая через лес Холмогорского района"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Скалы рядом с озером Байкал"}].forEach((function(e){var t=f(e);!function(e,t){e.append(t)}(i,t)}));var k=document.forms["edit-profile"],v=k.querySelector('input[name="name"]'),_=k.querySelector('input[name="description"]'),q=document.querySelector(".profile__title"),S=document.querySelector(".profile__description");k.addEventListener("submit",(function(t){t.preventDefault();var n=v.value,o=_.value;q.textContent=n,S.textContent=o,e(a),k.reset()})),a.openPopupCallback=function(){v.value=q.textContent,_.value=S.textContent},a.closePopupCallback=function(){k.reset()};var b=document.forms["new-place"],L=b.querySelector('input[name="place-name"]'),g=b.querySelector('input[name="link"]');b.addEventListener("submit",(function(t){t.preventDefault();var n=L.value,o=f({name:n,link:g.value,alt:n});!function(e,t){e.prepend(t)}(i,o),e(u),b.reset()})),u.closePopupCallback=function(){b.reset()}})();